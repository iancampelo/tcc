package br.com.ucb.dao;

import java.sql.Connection;
import java.sql.DriverManager;


import java.sql.PreparedStatement;

import br.com.ucb.factory.ConnectionFactory;
import br.com.ucb.modelo.Projeto;
import br.com.ucb.modelo.Usuario;

public class ProjetoDao extends ConnectionFactory{

	private static ProjetoDao instancia = null;
	
	public static ProjetoDao getInstancia(){
		if (instancia == null){
			instancia = new ProjetoDao();
		}
		return instancia;
	}
	
	public boolean inserir (Usuario user, Projeto proj){
		
		Connection conn = criarConexao();
		String sql = "insert into projeto(uid,nome,tempo_estimado,kma) "+
					 "values (?,?,?,?,?,?)";
		try{
			PreparedStatement ps = conn.prepareStatement(sql);
			ps.setInt   (1, user.getId           ());
			ps.setString(2, proj.getNome         ());
			ps.setFloat (3, proj.getTempoEstimado());
			ps.setFloat (4, proj.getKma          ());
			
			return ps.execute();
			
		}catch(Exception e){
			System.out.println("Erro ao inserir projeto: "+e);
			e.printStackTrace();
			return false;
		}
	}
	
	public boolean excluir (Projeto proj){
		
	}
}
